---
title: "{{< iconify ph info >}} About"
format: html
---

```{r}
#| include: false
library(dashboardr)
```

This dashboard aggregates and visualizes data

## Dashboard Creators

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(htmltools)
library(dashboardr)

mario_card <- card(
  content = "Mario il Gatto is a data scientist who believes that every dataset has a soul and that R is the language of the gods. He spends his days making beautiful visualizations and his nights dreaming of perfectly normalized databases.",
  title = "Mario il Gatto",
  image = "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=300&h=200&fit=crop",
  image_alt = "Photo of a majestic orange cat",
  footer = "Website: mario-il-gatto.data",
  class = "mb-3"
)

giuseppe_card <- card(
  content = "Giuseppe il Cane is a machine learning engineer who thinks that neural networks are just very complicated dogs. He's convinced that every algorithm needs a good walk and that overfitting is just a sign of too much enthusiasm.",
  title = "Giuseppe il Cane",
  image = "https://images.unsplash.com/photo-1552053831-71594a27632d?w=300&h=200&fit=crop",
  image_alt = "Photo of a happy golden retriever",
  footer = "Website: giuseppe-il-cane.ai",
  class = "mb-3"
)

# Display cards in a row using the card_row function
card_row(mario_card, giuseppe_card)
```
## More about Dashboardr
Dashboardr is an R package with a clear vision: to make it intuitive for everyone to create beautiful dashboards.
The package is especially useful when time is limited. The iterative piping logic means that it is very quick to add new pages
and plots, even when the user is inexperienced with programming.
In a variety of contexts, this means that you can get quick, beautiful insights to present findings to wider audiences.


```{=html}
<script>
// Chart Lazy Loading System
(function() {
  // Track which charts have been initialized
  const initializedCharts = new Set();
  
  // Queue of charts waiting to be initialized
  const chartQueue = [];
  let isProcessingQueue = false;
  
  // Initialize a single chart
  function initChart(container) {
    const chartId = container.id;
    if (initializedCharts.has(chartId)) return;
    
    initializedCharts.add(chartId);
    container.dataset.loaded = 'true';
    
    // Remove skeleton loader
    const skeleton = container.querySelector('.chart-skeleton');
    if (skeleton) {
      skeleton.style.opacity = '0';
      setTimeout(() => skeleton.remove(), 300);
    }
    
    // Show the actual chart content
    const chartContent = container.querySelector('.chart-content');
    if (chartContent) {
      chartContent.style.display = 'block';
      // Trigger any chart resize/redraw if needed
      setTimeout(() => {
        if (window.Highcharts) {
          Highcharts.charts.forEach(chart => {
            if (chart && chart.reflow) chart.reflow();
          });
        }
      }, 50);
    }
  }
  
  // Process chart queue in batches
  function processQueue() {
    if (isProcessingQueue || chartQueue.length === 0) return;
    
    isProcessingQueue = true;
    const batchSize = 3;
    const batch = chartQueue.splice(0, batchSize);
    
    batch.forEach(container => initChart(container));
    
    if (chartQueue.length > 0) {
      requestIdleCallback(() => {
        isProcessingQueue = false;
        processQueue();
      }, { timeout: 2000 });
    } else {
      isProcessingQueue = false;
    }
  }
  
  // Intersection Observer for scroll-based lazy loading
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.target.dataset.loaded === 'false') {
        chartQueue.push(entry.target);
        observer.unobserve(entry.target);
        processQueue();
      }
    });
  }, { rootMargin: '300px' });
  
  // Initialize observers when DOM is ready
  function initLazyLoading() {
    document.querySelectorAll('.chart-lazy-container[data-loaded="false"]').forEach(container => {
      observer.observe(container);
    });
  }
  
  // Tab-aware rendering: load charts when tab becomes visible
  function initTabAwareLoading() {
    document.querySelectorAll('.panel-tabset').forEach(tabset => {
      const tabs = tabset.querySelectorAll('[role="tab"]');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // Small delay to ensure tab panel is visible
          setTimeout(() => {
            const targetId = this.getAttribute('aria-controls');
            if (!targetId) return;
            
            const targetPanel = document.getElementById(targetId);
            if (!targetPanel) return;
            
            // Initialize any lazy charts in this tab
            const lazyCharts = targetPanel.querySelectorAll('.chart-lazy-container[data-loaded="false"]');
            lazyCharts.forEach(chart => {
              chartQueue.push(chart);
              observer.unobserve(chart);
            });
            processQueue();
          }, 50);
        });
      });
    });
  }
  
  // Start lazy loading when document is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      initLazyLoading();
      initTabAwareLoading();
    });
  } else {
    initLazyLoading();
    initTabAwareLoading();
  }
})();
</script>
```

