---
title: "Test"
format: html
---

```{r, echo=FALSE, results='asis', message=FALSE, warning=FALSE}
dashboardr::.page_config(accessibility = TRUE, modals = TRUE, crosstab_prefix = "test")
```

```{r setup}
#| echo: false
#| warning: false
#| message: false
#| error: false
#| results: 'hide'

# Load dashboardr (includes dplyr, highcharter as dependencies)
library(dashboardr)

# Global chunk options
knitr::opts_chunk$set(
  echo = FALSE,
  warning = FALSE,
  message = FALSE,
  error = FALSE,
  fig.width = 12,
  fig.height = 8,
  dpi = 300
)

# Load data
data <- readRDS('dataset_small_6obs.rds')

# Data summary
cat('Dataset loaded:', nrow(data), 'rows,', ncol(data), 'columns\n')

```


```{r, echo=FALSE, results='asis'}
dashboardr::modal_content(
  modal_id = 'modal1',
  text = '<h2>Modal on Page 1</h2>
<p>This modal should appear on <strong>paginated page 1</strong>.</p>
'
)
```


```{r, echo=FALSE, results='asis'}
dashboardr::modal_content(
  modal_id = 'modal2',
  text = '<h2>Modal on Page 2</h2>
<p>This modal should appear on <strong>paginated page 2</strong>.</p>
'
)
```

## [Page 1 chart](#modal1){.modal-link}

```{r stackedbar-group-cat}
# [Page 1 chart](#modal1){.modal-link}
result <- viz_stackedbar(
  data = data,
  title = "[Page 1 chart](#modal1){.modal-link}",
  x_var = "group",
  stack_var = "cat"
)

result
```



```{r, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
dashboardr::create_pagination_nav(1, 2, "test", "bottom")
```

